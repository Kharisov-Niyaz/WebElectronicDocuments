(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{438:function(t,e,a){"use strict";a.r(e);a(51);var n=a(7),s=(a(72),a(602)),r=a.n(s),i={mixins:[{data:function(){return{page:+this.$route.query.page||1,pageSize:25,pageCount:0,allItems:[],partItems:[]}},methods:{pageChangeHandler:function(t){this.$router.push("".concat(this.$route.path,"?page=").concat(t)),this.partItems=this.allItems[t-1]||this.allItems[0]},setupPagination:function(t){this.allItems=r.a.chunk(t,this.pageSize),this.pageCount=r.a.size(this.allItems),this.partItems=this.allItems[this.page-1]||this.allItems[0]}}}],name:"journal",metaInfo:function(){return{title:"Журнал пользователя"}},data:function(){return{loading:!0,userJournal:[]}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("getUserJournalList");case 3:t.userJournal=e.sent,t.setupPagination(t.userJournal),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,t.loading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})))()}},u=a(18),l=Object(u.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),t.loading?a("Loader"):a("div",{staticClass:"row"},[a("table",{staticClass:"striped highlight responsive-table"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Сообщение")]),t._v(" "),a("th",[t._v("Дата")])])]),t._v(" "),a("tbody",t._l(t.partItems,(function(e,n){return a("tr",{key:e.id},[a("th",[t._v(t._s(++n))]),t._v(" "),a("th",[t._v(t._s(e.message))]),t._v(" "),a("th",[t._v(t._s(t._f("date")(e.createDate,"datetime")))])])})),0)]),t._v(" "),a("Paginate",{attrs:{"page-count":t.pageCount,"click-handler":t.pageChangeHandler,"prev-text":"←Назад","next-text":"Вперед→","container-class":"pagination","page-class":"pagination-item waves-effect"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("h3",[this._v("Журнал пользователя")])])}],!1,null,null,null);e.default=l.exports}}]);