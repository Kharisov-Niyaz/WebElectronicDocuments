(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{440:function(t,e,a){"use strict";a.r(e);a(208);var n=a(472),i=(a(51),a(7)),l={data:function(){return{loading:!0,loadingSmall:!1,uploadDataModal:null,fileSelectedList:[]}},metaInfo:function(){return{title:"Загрузка данных"}},mounted:function(){var t=this;setTimeout((function(){t.uploadDataModal=M.Modal.init(t.$refs.uploadDataModal,{dismissible:!0})}),0),this.loading=!1},methods:{fileUpload:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var a,i,l,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.fileSelectedList.length){e.next=3;break}return t.$error("Выберите файл для загрузки"),e.abrupt("return");case 3:a=new FormData,i=Object(n.a)(t.fileSelectedList);try{for(i.s();!(l=i.n()).done;)r=l.value,a.append("files",r,r.name)}catch(t){i.e(t)}finally{i.f()}return e.prev=6,t.loadingSmall=!0,e.next=10,t.$store.dispatch("uploadData",a);case 10:t.$message("Загрузка прошла успешно"),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:return e.prev=15,t.fileSelectedList=[],t.$refs.files.value="",t.$refs.filesText.value="",t.loadingSmall=!1,e.finish(15);case 21:case"end":return e.stop()}}),e,null,[[6,13,15,21]])})))()},fileSelected:function(t){this.fileSelectedList=t.target.files}},beforeDestroy:function(){this.uploadDataModal&&this.uploadDataModal.destroy&&this.uploadDataModal.destroy()}},r=a(18),s=Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),t.loading?a("Loader"):a("div",{staticClass:"row"},[a("a",{staticClass:"waves-effect waves-light btn modal-trigger",attrs:{href:"#uploadDataModal"}},[a("i",{staticClass:"material-icons left"},[t._v("open_in_new")]),t._v(" "),a("span",[t._v("Модальное окно")])]),t._v(" "),a("div",{ref:"uploadDataModal",staticClass:"modal modal-fixed-footer",attrs:{id:"uploadDataModal"}},[a("div",{staticClass:"modal-content"},[a("label",[t._v("Выберите файл")]),t._v(" "),a("div",{staticClass:"file-field input-field"},[a("div",{staticClass:"btn",class:{disabled:t.loadingSmall}},[a("i",{staticClass:"material-icons left"},[t._v("folder_open")]),t._v(" "),a("span",[t._v("Открыть")]),t._v(" "),a("input",{ref:"files",attrs:{type:"file",name:"files",multiple:""},on:{change:t.fileSelected}})]),t._v(" "),a("div",{staticClass:"file-path-wrapper"},[a("input",{ref:"filesText",staticClass:"file-path validate",attrs:{type:"text",placeholder:"Файлы"}})])]),t._v(" "),a("div",[a("button",{staticClass:"btn waves-effect waves-light",class:{disabled:t.loadingSmall},on:{click:t.fileUpload}},[t._v("\n                        Загрузить\n                        "),a("i",{staticClass:"material-icons right"},[t._v("file_download")])]),t._v(" "),t.loadingSmall?a("div",{staticClass:"progress"},[a("div",{staticClass:"indeterminate"})]):t._e()])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("a",{staticClass:"modal-close waves-effect waves-green btn-flat",attrs:{href:"#!"}},[a("i",{staticClass:"material-icons center"},[t._v("close")])])])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-title"},[e("h3",[this._v("Загрузка данных")])])}],!1,null,null,null);e.default=s.exports},472:function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function i(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(t){if("string"==typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(t,e):void 0}}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l,r=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){s=!0,l=t},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw l}}}}a.d(e,"a",(function(){return i}))}}]);